var e=function(){let e={emitKeypressEvents:function(e){!e||e._keypressAttached||(e._keypressAttached=!0)}};return e.createInterface=function(e={}){let t=e.input||process.stdin,n=e.output||process.stdout,r=null!=e.terminal?!!e.terminal:!!n.isTTY,i=Object.create(null);function o(e,t,n=!1){return i[e]||(i[e]=[]),i[e].push({fn:t,once:n}),s}function l(e,t){return i[e]&&(i[e]=i[e].filter(e=>e.fn!==t)),s}function u(e,...t){let n=i[e];if(!n)return!1;let r=[...n];i[e]=n.filter(e=>!e.once);for(let e of r)e.fn(...t);return!0}let s,c=e.prompt||(r?"> ":""),f=!1,a="",d=!1;function p(e){let n="string"==typeof e?e:e.toString();if(t.isRaw||r){let e=n.replace(/[\r\n]+$/,"");if(""===e)return void u("SIGINT");u("line",e)}else for(let e=0;e<n.length;e++){let t=n[e];"\r"!==t?"\n"!==t?(d=!1,a+=t):(d||m(),d=!1):(d=!0,m())}}function m(){let e=a;a="",""!==e?u("line",e):u("SIGINT")}t.on("data",p),t.on("close",()=>{f||s.close()});let w=[],h=null,v=!1;return o("line",e=>{if(h){let t=h;h=null,t({value:e,done:!1})}else w.push(e)}),o("close",()=>{v=!0,h&&(h({value:void 0,done:!0}),h=null)}),s={terminal:r,on:(e,t)=>o(e,t,!1),once:(e,t)=>o(e,t,!0),off:(e,t)=>l(e,t),removeListener:(e,t)=>l(e,t),removeAllListeners(e){return e?delete i[e]:Object.keys(i).forEach(e=>delete i[e]),this},listenerCount:e=>function(e){return(i[e]||[]).length}(e),emit:(e,...t)=>u(e,...t),setPrompt(e){return c=e,this},getPrompt:()=>c,prompt(e){return n&&n.write&&n.write(c),this},pause(){return t.pause&&t.pause(),u("pause"),this},resume(){return t.resume&&t.resume(),u("resume"),this},close(){return f||(f=!0,t.off("data",p),u("close"),setTimeout(()=>{0===t.listenerCount("data")&&t.end&&t.end()},0)),this},write(e,t){return f||"string"==typeof e&&e.length&&u("line",e.replace(/[\r\n]+$/,"")),this},question(e,t,r){if(f)return"function"==typeof r||"function"==typeof t?void 0:Promise.reject(new Error("readline was closed"));let i,u={};"function"==typeof t?i=t:(u=t||{},i=r),n&&n.write&&n.write(e);let s=u.signal;if("function"==typeof i){let e=!1,t=n=>{e||(e=!0,l("line",t),i(n))},n=()=>{e||(e=!0,l("line",t))};return o("line",t),s&&s.addEventListener("abort",n,{once:!0}),this}return new Promise((e,t)=>{let n=!1,r=t=>{n||(n=!0,l("line",r),e(t))};o("line",r),s&&s.addEventListener("abort",()=>{if(n)return;n=!0,l("line",r);let e=new Error("The question was aborted");e.code="ABORT_ERR",t(e)},{once:!0})})},[Symbol.asyncIterator]:()=>({next:()=>w.length?Promise.resolve({value:w.shift(),done:!1}):v?Promise.resolve({value:void 0,done:!0}):new Promise(e=>{h=e}),return:()=>Promise.resolve({value:void 0,done:!0})})},s},e.cursorTo=function(e,t,n,r){return null==n?e.write(`[${t+1}G`):e.write(`[${n+1};${t+1}H`),r&&r(),!0},e.moveCursor=function(e,t,n,r){return t>0&&e.write(`[${t}C`),t<0&&e.write(`[${-t}D`),n>0&&e.write(`[${n}B`),n<0&&e.write(`[${-n}A`),r&&r(),!0},e.clearLine=function(e,t,n){let r=0===t?2:-1===t?1:0;return e.write(`[${r}K`),n&&n(),!0},e.clearScreenDown=function(e,t){return e.write("[0J"),t&&t(),!0},globalThis.readline=e,e}();export{e as default};
/*! For license information please see readline.js.LEGAL.txt */