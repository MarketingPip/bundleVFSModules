var C=function(){let f={};return f.emitKeypressEvents=function(r){!r||r._keypressAttached||(r._keypressAttached=!0)},f.createInterface=function(r={}){let n=r.input||process.stdin,i=r.output||process.stdout,s=r.terminal!=null?!!r.terminal:!!i.isTTY,o=Object.create(null);function p(e,t,u=!1){return o[e]||(o[e]=[]),o[e].push({fn:t,once:u}),_}function h(e,t){return o[e]&&(o[e]=o[e].filter(u=>u.fn!==t)),_}function l(e,...t){let u=o[e];if(!u)return!1;let c=[...u];o[e]=u.filter(a=>!a.once);for(let a of c)a.fn(...t);return!0}function R(e){return(o[e]||[]).length}let _,L=r.prompt||(s?"> ":""),v=!1,P="",$=!1;function E(e){let t=typeof e=="string"?e:e.toString();if(n.isRaw||s){let u=t.replace(/[\r\n]+$/,"");if(u===""){l("SIGINT");return}l("line",u)}else for(let u=0;u<t.length;u++){let c=t[u];if(c==="\r"){$=!0,S();continue}if(c===`
`){$||S(),$=!1;continue}$=!1,P+=c}}function S(){let e=P;if(P="",e===""){l("SIGINT");return}l("line",e)}n.on("data",E),n.on("close",()=>{v||_.close()});let A=[],d=null,I=!1;return p("line",e=>{if(d){let t=d;d=null,t({value:e,done:!1})}else A.push(e)}),p("close",()=>{I=!0,d&&(d({value:void 0,done:!0}),d=null)}),_={terminal:s,on(e,t){return p(e,t,!1)},once(e,t){return p(e,t,!0)},off(e,t){return h(e,t)},removeListener(e,t){return h(e,t)},removeAllListeners(e){return e?delete o[e]:Object.keys(o).forEach(t=>delete o[t]),this},listenerCount(e){return R(e)},emit(e,...t){return l(e,...t)},setPrompt(e){return L=e,this},getPrompt(){return L},prompt(e){return i&&i.write&&i.write(L),this},pause(){return n.pause&&n.pause(),l("pause"),this},resume(){return n.resume&&n.resume(),l("resume"),this},close(){return v?this:(v=!0,n.off("data",E),l("close"),setTimeout(()=>{n.listenerCount("data")===0&&n.end&&n.end()},0),this)},write(e,t){return v?this:(typeof e=="string"&&e.length&&l("line",e.replace(/[\r\n]+$/,"")),this)},question(e,t,u){if(v)return typeof u=="function"||typeof t=="function"?void 0:Promise.reject(new Error("readline was closed"));let c={},a;typeof t=="function"?a=t:(c=t||{},a=u),i&&i.write&&i.write(e);let y=c.signal;if(typeof a=="function"){let w=!1,g=b=>{w||(w=!0,h("line",g),a(b))},m=()=>{w||(w=!0,h("line",g))};return p("line",g),y&&y.addEventListener("abort",m,{once:!0}),this}return new Promise((w,g)=>{let m=!1,b=T=>{m||(m=!0,h("line",b),w(T))},k=()=>{if(m)return;m=!0,h("line",b);let T=new Error("The question was aborted");T.code="ABORT_ERR",g(T)};p("line",b),y&&y.addEventListener("abort",k,{once:!0})})},[Symbol.asyncIterator](){return{next(){return A.length?Promise.resolve({value:A.shift(),done:!1}):I?Promise.resolve({value:void 0,done:!0}):new Promise(e=>{d=e})},return(){return Promise.resolve({value:void 0,done:!0})}}}},_},f.cursorTo=function(r,n,i,s){return i==null?r.write(`\x1B[${n+1}G`):r.write(`\x1B[${i+1};${n+1}H`),s&&s(),!0},f.moveCursor=function(r,n,i,s){return n>0&&r.write(`\x1B[${n}C`),n<0&&r.write(`\x1B[${-n}D`),i>0&&r.write(`\x1B[${i}B`),i<0&&r.write(`\x1B[${-i}A`),s&&s(),!0},f.clearLine=function(r,n,i){let s=n===0?2:n===-1?1:0;return r.write(`\x1B[${s}K`),i&&i(),!0},f.clearScreenDown=function(r,n){return r.write("\x1B[0J"),n&&n(),!0},globalThis.readline=f,f}(),j=C;export{j as default};
/*! For license information please see readline.js.LEGAL.txt */
