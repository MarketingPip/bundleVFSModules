function e(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}var t,n=[],r=!1,o=-1;function i(){!r||!t||(r=!1,t.length?n=t.concat(n):o=-1,n.length&&a())}function a(){if(!r){var e=setTimeout(i,0);r=!0;for(var a=n.length;a;){for(t=n,n=[];++o<a;)t&&t[o].run();o=-1,a=n.length}t=null,r=!1,clearTimeout(e)}}function l(e,t){this.fun=e,this.array=t}l.prototype.run=function(){this.fun.apply(null,this.array)};var s={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"};function c(){}var f=c;var u=c,h=c,d=function(){return{}},g=d,p=d,v=c,m=c,b=c;var w=c,C=c;var A,x=c,y=c,U=c,L=c,_=c,k=c,E=c,I={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};void 0===I.now&&(A=Date.now(),I.timing&&I.timing.navigationStart&&(A=I.timing.navigationStart),I.now=()=>Date.now()-A);var T=1e9;function R(e){var t=Math.floor(.001*(Date.now()-I.now())),n=.001*I.now(),r=Math.floor(n)+t,o=Math.floor(n%1*1e9);return e&&(r-=e[0],(o-=e[1])<0&&(r--,o+=T)),[r,o]}R.bigint=function(e){var t=R(e);return typeof BigInt>"u"?t[0]*T+t[1]:BigInt(t[0]*T)+BigInt(t[1])};function P(){return S}var S={version:"v16.8.0",versions:{},arch:"x64",platform:"browser",release:{name:"node",sourceUrl:"",headersUrl:"",libUrl:""},_rawDebug:f,moduleLoadList:[],binding:function(t){e("binding")},_linkedBinding:function(t){e("_linkedBinding")},_events:{},_eventsCount:0,_maxListeners:10,on:P,addListener:P,once:P,off:P,removeListener:P,removeAllListeners:P,emit:c,prependListener:P,prependOnceListener:P,listeners:function(e){return[]},domain:{},_exiting:!1,config:{},dlopen:function(t){e("dlopen")},uptime:function(){return I.now()/1e3},_getActiveRequests:function(){return[]},_getActiveHandles:function(){return[]},reallyExit:u,_kill:h,cpuUsage:d,resourceUsage:g,memoryUsage:p,kill:v,exit:m,openStdin:b,allowedNodeEnvironmentFlags:{},assert:function(e,t){if(!e)throw new Error(t||"assertion error")},features:{inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},_fatalExceptions:w,setUncaughtExceptionCaptureCallback:C,hasUncaughtExceptionCaptureCallback:function(){return!1},emitWarning:function(e,t){console.warn((t?t+": ":"")+e)},nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];n.push(new l(e,t)),1===n.length&&!r&&setTimeout(a,0)},_tickCallback:x,_debugProcess:y,_debugEnd:U,_startProfilerIdleNotifier:L,_stopProfilerIdleNotifier:_,stdout:void 0,stdin:void 0,stderr:void 0,abort:k,umask:function(e){return 0},chdir:function(e){},cwd:function(){return"/"},env:s,title:"browser",argv:["/usr/bin/node"],execArgv:[],pid:2,ppid:1,execPath:"/bin/usr/node",debugPort:9229,hrtime:R,argv0:"node",_preload_modules:[],setSourceMapsEnabled:E},j={},O=!1;var F=function(){if(O)return j;O=!0;var e=S;function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",o=0,i=-1,a=0,l=0;l<=e.length;++l){if(l<e.length)n=e.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(i!==l-1&&1!==a)if(i!==l-1&&2===a){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var s=r.lastIndexOf("/");if(s!==r.length-1){-1===s?(r="",o=0):o=(r=r.slice(0,s)).length-1-r.lastIndexOf("/"),i=l,a=0;continue}}else if(2===r.length||1===r.length){r="",o=0,i=l,a=0;continue}t&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+="/"+e.slice(i+1,l):r=e.slice(i+1,l),o=l-i-1;i=l,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var r,o="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var l;a>=0?l=arguments[a]:(void 0===r&&(r=e.cwd()),l=r),t(l),0!==l.length&&(o=l+"/"+o,i=47===l.charCodeAt(0))}return o=n(o,!i),i?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0===(e=n(e,!r)).length&&!r&&(e="."),e.length>0&&o&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var o=arguments[n];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n||(e=r.resolve(e))===(n=r.resolve(n)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var i=e.length,a=i-o,l=1;l<n.length&&47===n.charCodeAt(l);++l);for(var s=n.length-l,c=a<s?a:s,f=-1,u=0;u<=c;++u){if(u===c){if(s>c){if(47===n.charCodeAt(l+u))return n.slice(l+u+1);if(0===u)return n.slice(l+u)}else a>c&&(47===e.charCodeAt(o+u)?f=u:0===u&&(f=0));break}var h=e.charCodeAt(o+u);if(h!==n.charCodeAt(l+u))break;47===h&&(f=u)}var d="";for(u=o+f+1;u<=i;++u)(u===i||47===e.charCodeAt(u))&&(0===d.length?d+="..":d+="/..");return d.length>0?d+n.slice(l+f):(l+=f,47===n.charCodeAt(l)&&++l,n.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,o=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(n=e.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?r?"/":".":r&&1===o?"//":e.slice(0,o)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,o=0,i=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var l=n.length-1,s=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!a){o=r+1;break}}else-1===s&&(a=!1,s=r+1),l>=0&&(c===n.charCodeAt(l)?-1===--l&&(i=r):(l=-1,i=s))}return o===i?i=s:-1===i&&(i=e.length),e.slice(o,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!a){o=r+1;break}}else-1===i&&(a=!1,i=r+1);return-1===i?"":e.slice(o,i)},extname:function(e){t(e);for(var n=-1,r=0,o=-1,i=!0,a=0,l=e.length-1;l>=0;--l){var s=e.charCodeAt(l);if(47!==s)-1===o&&(i=!1,o=l+1),46===s?-1===n?n=l:1!==a&&(a=1):-1!==n&&(a=-1);else if(!i){r=l+1;break}}return-1===n||-1===o||0===a||1===a&&n===o-1&&n===r+1?"":e.slice(n,o)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,o=e.charCodeAt(0),i=47===o;i?(n.root="/",r=1):r=0;for(var a=-1,l=0,s=-1,c=!0,f=e.length-1,u=0;f>=r;--f)if(47!==(o=e.charCodeAt(f)))-1===s&&(c=!1,s=f+1),46===o?-1===a?a=f:1!==u&&(u=1):-1!==a&&(u=-1);else if(!c){l=f+1;break}return-1===a||-1===s||0===u||1===u&&a===s-1&&a===l+1?-1!==s&&(n.base=n.name=0===l&&i?e.slice(1,s):e.slice(l,s)):(0===l&&i?(n.name=e.slice(1,a),n.base=e.slice(1,s)):(n.name=e.slice(l,a),n.base=e.slice(l,s)),n.ext=e.slice(a,s)),l>0?n.dir=e.slice(0,l-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,j=r}(),M=(F._makeLong,F.basename,F.delimiter,F.dirname,F.extname,F.format,F.isAbsolute,F.join,F.normalize,F.parse,F.posix,F.relative,F.resolve),N=F.sep,z=(F.win32,{}),B=!1;var D=function(){if(B)return z;B=!0;let e=2147483647,t=36,n=/^xn--/,r=/[^\0-\x7F]/,o=/[\x2E\u3002\uFF0E\uFF61]/g,i={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},a=Math.floor,l=String.fromCharCode;function s(e){throw new RangeError(i[e])}function c(e,t){let n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);let i=function(e,t){let n=[],r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(o,".")).split("."),t).join(".");return r+i}function f(e){let t=[],n=0,r=e.length;for(;n<r;){let o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){let r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--)}else t.push(o)}return t}let u=function(e){return e>=48&&e<58?e-48+26:e>=65&&e<91?e-65:e>=97&&e<123?e-97:t},h=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},d=function(e,n,r){let o=0;for(e=r?a(e/700):e>>1,e+=a(e/n);e>455;o+=t)e=a(e/35);return a(o+36*e/(e+38))},g=function(n){let r=[],o=n.length,i=0,l=128,c=72,f=n.lastIndexOf("-");f<0&&(f=0);for(let e=0;e<f;++e)n.charCodeAt(e)>=128&&s("not-basic"),r.push(n.charCodeAt(e));for(let h=f>0?f+1:0;h<o;){let f=i;for(let r=1,l=t;;l+=t){h>=o&&s("invalid-input");let f=u(n.charCodeAt(h++));f>=t&&s("invalid-input"),f>a((e-i)/r)&&s("overflow"),i+=f*r;let d=l<=c?1:l>=c+26?26:l-c;if(f<d)break;let g=t-d;r>a(e/g)&&s("overflow"),r*=g}let g=r.length+1;c=d(i-f,g,0==f),a(i/g)>e-l&&s("overflow"),l+=a(i/g),i%=g,r.splice(i++,0,l)}return String.fromCodePoint(...r)},p=function(n){let r=[],o=(n=f(n)).length,i=128,c=0,u=72;for(let e of n)e<128&&r.push(l(e));let g=r.length,p=g;for(g&&r.push("-");p<o;){let o=e;for(let e of n)e>=i&&e<o&&(o=e);let f=p+1;o-i>a((e-c)/f)&&s("overflow"),c+=(o-i)*f,i=o;for(let o of n)if(o<i&&++c>e&&s("overflow"),o===i){let e=c;for(let n=t;;n+=t){let o=n<=u?1:n>=u+26?26:n-u;if(e<o)break;let i=e-o,s=t-o;r.push(l(h(o+i%s,0))),e=a(i/s)}r.push(l(h(e,0))),u=d(c,f,p===g),c=0,++p}++c,++i}return r.join("")};return z={version:"2.3.1",ucs2:{decode:f,encode:e=>String.fromCodePoint(...e)},decode:g,encode:p,toASCII:function(e){return c(e,function(e){return r.test(e)?"xn--"+p(e):e})},toUnicode:function(e){return c(e,function(e){return n.test(e)?g(e.slice(4).toLowerCase()):e})}}}(),W=(D.decode,D.encode,D.toASCII,D.toUnicode,D.ucs2,D.version,typeof process<"u"&&"win32"===process.platform),$=globalThis.URL,H=globalThis.URLSearchParams;function q(e){let t="string"==typeof e?new URL(e):e;if(!(t instanceof URL))throw new TypeError("Expected URL object or string");if("file:"!==t.protocol)throw new TypeError("Protocol must be file:");let n=decodeURIComponent(t.pathname);return W?""!==t.hostname?`\\\\${t.hostname}${n.replace(/\//g,"\\")}`:(n=n.replace(/^\/([A-Za-z]:)/,"$1"),n.replace(/\//g,"\\")):n}function J(e){let t=M(e);(e.endsWith("/")||W&&e.endsWith("\\"))&&(t.endsWith(N)||(t+=N));let n=new URL("file://");return W&&(t=t.replace(/\\/g,"/"),/^[A-Za-z]:/.test(t)&&(t="/"+t)),n.pathname=t,n}function Z(e){return D.toASCII(e)}function G(e){return D.toUnicode(e)}function K(e,t=!1){let n=new URL(e);return{href:n.href,protocol:n.protocol,host:n.host,hostname:n.hostname,port:n.port,pathname:n.pathname,search:n.search,hash:n.hash,query:t?Object.fromEntries(n.searchParams):n.search.replace(/^\?/,"")}}function Q(e){if("string"==typeof e)return e;let t=new URL(e.href||`${e.protocol||"http:"}//${e.host||""}`);return e.pathname&&(t.pathname=e.pathname),e.search&&(t.search=e.search),e.hash&&(t.hash=e.hash),t.toString()}function V(e,t){return new URL(t,e).toString()}export{$ as URL,H as URLSearchParams,Z as domainToASCII,G as domainToUnicode,q as fileURLToPath,Q as format,K as parse,J as pathToFileURL,V as resolve};
/*! For license information please see url.js.LEGAL.txt */